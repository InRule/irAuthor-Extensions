<Window x:Class="ExtensionManager.Views.ExtensionBrowser"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:local="clr-namespace:ExtensionManager.Views"
        xmlns:viewModels="clr-namespace:ExtensionManager.ViewModels"
        mc:Ignorable="d" 
        ShowInTaskbar="False"
        d:DesignHeight="300" d:DesignWidth="957.394" d:DataContext="{d:DesignInstance Type=viewModels:ExtensionBrowserViewModel, IsDesignTimeCreatable=True}"
        Title="Extension Browser" 
        Topmost="True" 
        WindowStyle="ToolWindow">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition/>
        </Grid.RowDefinitions>
        <StackPanel HorizontalAlignment="Right" Grid.Row="0"  VerticalAlignment="Center">
            <Button x:Name="refreshButton" Content="Refresh Extension List" Click="refreshButton_Click" Height="25" Padding="5,5"  />
        </StackPanel>
        <DataGrid x:Name="ExtensionGrid" MinHeight="150" ItemsSource="{Binding Extensions}" CanUserDeleteRows="False" AutoGenerateColumns="False" Grid.Row="1">
            <DataGrid.Columns>
                <DataGridTemplateColumn CanUserReorder="False" CanUserResize="False" >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Image Source="{Binding IconUrl}" Margin="7,5"></Image>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn Binding="{Binding Id, Mode=OneWay}" Header="Name" CanUserReorder="False" MinWidth="30"/>
                <DataGridTextColumn Binding="{Binding Description, Mode=OneWay}" Header="Description" CanUserReorder="False" MinWidth="40"/>
                <DataGridTextColumn Binding="{Binding Authors, Mode=OneWay}" Header="Author(s)" CanUserReorder="False" MinWidth="30"/>
                <DataGridTextColumn Binding="{Binding Version, Mode=OneWay}" Header="Version" CanUserReorder="False"/>
                <DataGridTextColumn Binding="{Binding Published, Mode=OneWay, StringFormat=\{0:d\}}" Header="Release Date" CanUserReorder="False"/>
                <DataGridTemplateColumn CanUserReorder="False" CanUserResize="False" >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <WrapPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Button Command="{Binding DataContext.AddExtensionCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}" CommandParameter="{Binding Id}" Content="Add" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="2,3" Padding="5,3"/>
                                <Button Command="{Binding DataContext.RemoveExtensionCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}" CommandParameter="{Binding Id}" Content="Remove" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="2,3" Padding="5,3"/>
                            </WrapPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
